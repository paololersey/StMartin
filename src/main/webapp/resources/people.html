<!doctype html>
<html lang="en" data-ng-app="app">
<head>


<meta charset="utf-8">
<title>St. Martin Programs</title>

<!-- CSS -->

<link rel="stylesheet" type="text/css" href="css/ng-grid.css" />
<link rel="stylesheet" type="text/css"
	href="bootstrap/css/bootstrap.css" />
<link rel="stylesheet" href="css/app.css">

<link rel="stylesheet" type="text/css"
	href="jqueryui/1.10/theme/smoothness/jquery-ui.css" />

<script type="text/javascript" src="lib/angular/1.2.16/angular.min.js"></script>
<script type="text/javascript" src="ang-ui-bootstrap/ui-bootstrap-tpls-0.11.0.min.js"></script>
<script type="text/javascript" src="jquery/1.8/jquery.min.js"></script>
<script type="text/javascript" src="lib/angular/ng-grid-2.0.11.debug.js"></script>


<script src="js/people.js"></script>
<script src="js/datePicker.js"></script>

</head>
<body data-ng-controller="StMartinPrograms">


  <div align="center">
     <span style="display: inline-block; width: 20%"></span>
      <span style="display: inline-block; width: 60%">
		  <tabset>
		  <tab heading="Beneficiaries" select="beneficiariesSelected()"></tab>
		  <tab heading="Volunteers" select="volunteersSelected()"></tab>
		  <tab heading="Staff Workers" select="socialWorkersSelected()"></tab>
		  <tab data-ng-show="isCPPD" heading="Therapists"  select="physioterapistsSelected()"></tab>
		  <tab data-ng-show="isCPCN" heading="Center managers"  select="centerManagersSelected()"></tab>
		  </tabset>
	  </span>
	 
  </div>

	
    
	
	<div style="width: 99%; height: 30px"></div>
	
	<div style="width: 99%;">
	  
		<span class="panel panel-primary box-shadow"
			style="display: inline-block; width: 60%;height:230px;" >
			<div class="panel-heading" data-ng-show="isBeneficiary" style="height:35px;">
				<a class="panel-title" >Filter beneficiary either by person in charge, either within a period of time:</a>				
			</div>
			<div class="panel-heading" data-ng-hide="isBeneficiary" style="height:35px;">
				<a class="panel-title" >Filter status, training and type of volunteers/workers:</a>
				
			</div>
			 
			<div class="panel-body" data-ng-show="isBeneficiary" >
			     <div>
			     <span class="formMainSpan" ng-controller="DatepickerDemoCtrl">
			             <span class="subFilterSpanLeft">Start</span>
                         <span class="subFilterSpanRight">
			   			 	 <span>
                		 	  <input style="width:40%" type="text" ng-change="selectFilter('',dateStart,'','','','','')" datepicker-popup="{{format}}" ng-model="dateStart" is-open="opened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)"  close-text="Close" />
             		    	 </span>
             				 <button  vtype="button" ng-click="open($event)" class="btn btn-default" ><i class="glyphicon glyphicon-calendar"></i></button>
             	         </span>
             	 </span> 	
             	 <span class="formMainSpan" ng-controller="DatepickerDemoCtrl">
                        <span class="subFilterSpanLeft">End</span>
			  		    <span class="subFilterSpanRight">
			  		  	  <span>
                      	    <input style="width:40%"  type="text" ng-change="selectFilter('','',dateEnd,'','','','')" datepicker-popup="{{format}}" ng-model="dateEnd" is-open="opened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" close-text="Close" />
                      	  </span>
                      	  <button  vtype="button" ng-click="open($event)" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>                
                 </span>
		
			   </div>
			   
			   <div>
			   <span class="formMainSpan" >
                        <span class="subFilterSpanLeft">PersonType</span>
			  		    <span class="subFilterSpanRight">			  		  	  
                      	    <select  ng-change="selectPersonType(personTypeSelected)" ng-model="personTypeSelected" ng-options='personTypeSelected for personTypeSelected in personInChargeTypeList'><option value=""></option></select>
                        </span> 
                </span>	        
                <span class="formMainSpan" >
                        <span class="subFilterSpanLeft">Person</span>
			  		    <span class="subFilterSpanRight">			  		  	  
                      	    <select ng-change="selectFilter(objectPCH,'','','','','','')" ng-model="objectPCH"  ng-options='objectPCH.firstName+" "+objectPCH.lastName for objectPCH in personInCharge'><option value=""></option></select>
			            </span>                
                </span>	   
			    </div>
			    
			    <div style="width: 99%; height: 10px"></div>
			    
			    <div>
			    <span class="formMainSpan" >
                        <span class="subFilterSpanLeft">Zone</span>
			  		    <span class="subFilterSpanRight">			  		  	  
                      	    <select key="idZone" ng-change="selectFilter('','','',objectZone,'','','')" ng-model="objectZone"  ng-options='objectZone for objectZone in zoneCodes'><option value=""></option></select>
                        </span> 
                </span>	        
                <span class="formMainSpan" data-ng-hide="isCPPRBeneficiary">
                        <span class="subFilterSpanLeft">Status</span>
			  		    <span class="subFilterSpanRight">			  		  	  
                      	    <select data-ng-change="selectFilter('','','','',objStatus,'','')" ng-model="objStatus"  ng-options='obj for obj in personStateNames'><option value=""></option></select>
			            </span>                
                </span>
                <span class="formMainSpan" data-ng-show="isCPPRBeneficiary">
                        <span class="subFilterSpanLeft">ContactPerson</span>
			  		    <span class="subFilterSpanRight">			  		  	  
                      	    <input data-ng-click="selectFilter('','','','','','','',objContact)" ng-model="objContact"/>
			            </span>                
                </span>	   
			    </div>
			    
			    <div style="width: 99%; height: 20px"></div>
			    	
			    <div>
			    <span class="formMainSpan" >
			      <span class="subFilterSpanLeft"><i>Quicksearch</i></span>
			      <span class="subFilterSpanRight">	
				 	 <span style="display: inline-block"><input type="text"
						ng-model="filterOptions.filterText" /></span>
				  </span>  
				</span>	
				</div>
				
				
			</div>	
			
			<div class="panel-body" data-ng-hide="isBeneficiary" >
			 <div>
			    <span class="formMainSpan" >
                        <span class="subFilterSpanLeft">Status</span>
			  		    <span class="subFilterSpanRight">			  		  	  
                      	    <select data-ng-change="selectFilter('','','','',objStatus,'','')" ng-model="objStatus"  ng-options='obj for obj in personStateNames'><option value=""></option></select></select>
			            </span>                
                </span>	 	        
                <span class="formMainSpan" >
                        <span class="subFilterSpanLeft">Maj.training</span>
			  		    <span class="subFilterSpanRight">			  		  	  
                      	    <select data-ng-change="selectFilter('','','','','',objTraining,'')" ng-model="objTraining"  ng-options='obj for obj in majorTrainingList'><option value=""></option></select></select>
			            </span>                
                </span>	   
			  </div>
			  
			   <div style="width: 99%; height: 15px"></div>
			  
			  <div>
			     <span class="formMainSpan" ng-show="items.isVolunteer">
                        <span class="subFilterSpanLeft">VolunteerType</span>
			  		    <span class="subFilterSpanRight">			  		  	  
                      	    <select data-ng-change="selectFilter('','','','','','',objVolType)" ng-model="objVolType"  ng-options='obj for obj in volunteerTypeList'><option value=""></option></select></select>
			            </span>                
                </span>	 
               </div>
			  
			  
			   <div style="width: 99%; height: 25px"></div>
			  <div>
			    <span class="formMainSpan" >
			      <span class="subFilterSpanLeft"><i>Quicksearch</i></span>
			      <span class="subFilterSpanRight">	
				 	 <span style="display: inline-block"><input type="text"
						ng-model="filterOptions.filterText" /></span>
				  </span>  
				</span>	
				</div>
			
			</div>	
				
		 </span>
		 
		
		 <span class="panel panel-primary box-shadow"
			style="display: inline-block; width: 38%;height:230px; float:right; ">
			<div class="panel-heading" style="height:35px;">
				<a class="panel-title">Perform operations</a>
			</div>

			<div class="panel-body-crud" >
			            <div>
			            <span class="panelBodyCrudSpan">                 		  		  	  
                      	     <button data-ng-click="insertRowButton('')" class="btn btn-primary crudButtons">
									  <span class="glyphicon glyphicon-plus"></span></button>  
				     	</span> 
				        <span class="panelBodyCrudSpan" >                 		  		  	  
                      	      <button data-ng-click="deleteRowButton('')" class="btn btn-primary crudButtons">
						<span  class="glyphicon glyphicon-minus"></span></button>
				     	</span> 
				     	</div>
				     	
				     	<div style="width: 99%; height: 10px"></div>	
				     		     	
				     	 <div>
				     	 <span class="panelBodyCrudSpan" >                 		  		  	  
                      	     <button data-ng-click="selectRowButton('')" class="btn btn-primary crudButtons" >
					        	<span class="glyphicon glyphicon-pencil"></span></button>  
				     	</span> 
				     	 <span class="panelBodyCrudSpan" >                 		  		  	  
                      	     <button data-ng-click="report1()" class="btn btn-primary crudButtons" >
						     <span class="glyphicon glyphicon-print"></span></button>
				     	</span> 
				     	</div>                    
					
			</div>	
	 </span>
		 
    </div>	 
    
    <div style="width: 99%; height: 10px"></div>

	

	<div style="width: 99%" class="gridStyle  box-shadow" ng-grid="gridOptions"></div>
    <div style="width: 99%;height:10px;"></div>
    <div>
     <span style="display: inline-block; width: 30% ;">
     	 <button data-ng-click="backButton('')" style="width:20%;" class="btn btn-primary box-shadow">
			<span >Back</span>
		 </button>
      </span> 
    </div>

    <script type="text/ng-template" id="errorDialog.html">
      <div class="modal-header">
            <h3 class="modal-title">Error</h3>
      </div>
      <div class="modal-body"> 
      {{items.error}}     
      </div>
      <div class="modal-footer">	
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>
    <script type="text/ng-template" id="myModalContentDelete.html">
      <div class="modal-header">
            <h3 class="modal-title">Delete person</h3>
      </div>
      <div class="modal-body"> 
      Do you really want to delete this person? 
      <input id="personId" type="text" hidden="true"
				ng-model="items.people.personId" name="personId"/>
      </div>
      <div class="modal-footer">	
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>
	<script type="text/ng-template" id="myModalContent.html">
      <div class="modal-header">
            <h3 class="modal-title">Insert/update person</h3>
      </div>
      <div class="modal-body">
          
		<form name="form" id="insertPersonForm" 
			 novalidate>
            
         <div>          
            <span class="formMainSpan">
			    <div>
                <span class="subFormSpanLeft">Name: </span>
                <span class="subFormSpanRight">
                    <input id="firstNameId" type="text"
				ng-model="items.people.firstName" name="firstName" required />
                </span>
                </div>
           </span>
           <span class="formMainSpan">
			    <div>
                <span class="subFormSpanLeft"> Surname: </span>
                <span class="subFormSpanRight">
                    <input id="lastNameId" type="text"
				ng-model="items.people.lastName" name="lastName" required />
                </span>
                </div>
            </span>
         </div>  

         <div  style="height: 10px;">  <input id="personId" type="text" hidden="true"
				ng-model="items.people.personId" name="personId"/><br /></div>
 
         <div>          
            <span class="formMainSpan">
			    <div>
                <span class="subFormSpanLeft">ThirdName: </span>
                <span class="subFormSpanRight">
                    <input  type="text"
				ng-model="items.people.thirdName" name="thirdName" required />
                </span>
                </div>
           </span>
           <span class="formMainSpan" >
			    <div>
                <span class="subFormSpanLeft">Gender: </span>
                <span class="subFormSpanRight">
                    <label class="btn btn-primary" ng-model="items.people.gender" btn-radio="'M'" name="gender">Male</label>
      				<label class="btn btn-primary" ng-model="items.people.gender" btn-radio="'F'" name="gender">Female</label>      				
                </span>
                </div>
            </span>
         </div>  

         <div  style="height: 10px;"><input  type="text" hidden="true"/><br /></div>

         <div>            
            <span class="formMainSpan">
                 <div>
                 <span class="subFormSpanLeft">Village:  </span>		
                 <span class="subFormSpanRight">

               	    <select key="id" ng-model="items.people.village" name="village" ng-options=" opt for opt in items.cities" required>
                           <option value=""></option></select>

                </span>
                </div>
             </span>
             <span class="formMainSpan">
			    <div>
                <span class="subFormSpanLeft">Physical addr.: </span>
                <span class="subFormSpanRight">
                    <input type="text"
				ng-model="items.people.address" name="address" required />
                </span>
                </div>
            </span>
         </div>
        
         <div  style="height: 10px;"><input type="text" hidden="true"/><br /></div>
         
        <div>            
            <span class="formMainSpan">
                 <div>
                 <span class="subFormSpanLeft">Zone: </span		
                 <span class="subFormSpanRight">

               	    <select key="id" ng-model="items.people.zone"  ng-options=" opt for opt in items.zones" >
                      <option value=""></option></select>

                </span>
                </div>
             </span>
             <span class="formMainSpan" ng-hide="items.isCPPRBeneficiary">
			    <div>
                <span class="subFormSpanLeft">Status/level: </span>
                <span class="subFormSpanRight">
                   <select key="id" ng-model="items.people.state"  ng-options=" opt for opt in items.personState"  name="state" required></select>
                </span>
                </div>
            </span>
         </div>
        
         <div  style="height: 10px;"><input type="text" hidden="true"/><br /></div>
 
         <div>            
            <span class="formMainSpan">
                 <div>
                 <span class="subFormSpanLeft">Tel.: </span>
                 <span class="subFormSpanRight">
			        <input id="telephoneId" type="text" ng-model="items.people.telephone"  name="telefone"
		     		name="telephone" integer ng-minlength="10" ng-pattern="/^[0-9/]+$/" /> 
                </span>
                </div>
             </span>
             <span class="formMainSpan">
			    <div>
                <span class="subFormSpanLeft"> E-mail: </span>
                <span class="subFormSpanRight">
                    <input type="email" 
				ng-model="items.people.email" name="uEmail"/>
                </span>
                </div>
            </span>
         </div>

         <div  style="height: 10px;"><input type="text" hidden="true"/><br /></div>

         <div>            
            <span class="formMainSpan">
                 <div>
                 <span class="subFormSpanLeft">Birth Date: </span>
                 <span class="subFormSpanRight" ng-controller="DatepickerDemoCtrl">
                           
                  <div>
                       <span>
                         <input id="dateOfBirth" type="text"  datepicker-popup="{{format}}" ng-model="items.date" is-open="opened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" name="birthDate" required/>
                       </span>
                         <button  vtype="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                       <span>
                       </span>
                  </div> 	      
                 </span>
                 </div>
             </span>
             <span class="formMainSpan"  data-ng-show="items.isBeneficiary">
			    <div>
                <span class="subFormSpanLeft">File number: </span>
                <span class="subFormSpanRight">
                    <input type="text" 
				ng-model="items.people.fileNumber" name="fileNumber" required/>
                </span>
                </div>
            </span>
             
         </div>
         
         <div  ng-show="items.isCPPRBeneficiary" style="height: 10px;"><input type="text" hidden="true"/><br /></div>

         <div  ng-show="items.isCPPRBeneficiary" >            
             <span class="formMainSpan">
                 <div>
                 <span class="subFormSpanLeft">Contact person </span>
                 <span class="subFormSpanRight">
			        <input type="text" ng-model="items.people.contactPerson" 
		     	     " /> 
                </span>
                </div>
             </span>
             <span class="formMainSpan"  >
			    <div>
                <span class="subFormSpanLeft">Contact p. role: </span>
                <span class="subFormSpanRight">
                    <input type="text" 
				ng-model="items.people.contactPersonRole"/>
                </span>
                </div>
            </span>
             
         </div>
         
         <div  style="height: 10px;"><input type="text" hidden="true"/><br /></div>

         <div>
            <span class="formMainSpan"  data-ng-show="items.isVolunteerNotCPPR">
			    <div>
                <span class="subFormSpanLeft">Major training: </span>
                <span class="subFormSpanRight">
                    <select  ng-model="items.people.majorTraining"  ng-options=" majorTraining for majorTraining in items.majorTrainingList"></select>
               
                </span>
                </div>
            </span>
            <span class="formMainSpan" ng-show="items.isBeneficiary">
			    <div>
                <span class="subFormSpanLeft">Parent/Guardian: </span>
                <span class="subFormSpanRight">
                    <input  type="text"
				ng-model="items.people.parentGuardian" name="parentGuardian" />
                </span>
                </div>
            </span>
            <span class="formMainSpan"  data-ng-show="items.isVolunteer">
			    <div>
                <span class="subFormSpanLeft">Volunteer type: </span>
                <span class="subFormSpanRight">
                    <select  ng-model="items.people.volunteerType"  ng-options=" obj for obj in items.volunteerTypeList"></select>
               
                </span>
                </div>
            </span>
         </div>
         
         <div  style="height: 10px;"><input type="text" hidden="true"/><br /></div>

	     <div ng-show="form.uEmail.$dirty && form.uEmail.$invalid">
				Invalid:  <span ng-show="form.uEmail.$error.email">You're entering an invalid email.</span>     
	     </div>
         <div ng-show=" form.telefone.$invalid">
				Invalid: You're entering an invalid  telephone number.
         </div>   
         
			<!--Gender: <input type="radio" ng-model="personData.gender"
				value="male" />male <input type="radio"
				ng-model="personData.gender" value="female" />female<br />
			<!--<button ng-click="reset()" ng-disabled="isUnchanged(personData)">RESET</button>-->
			
		</form>
	  
        </div>
        <div class="modal-footer">	
            <button ng-show="items.isBeneficiary" class="btn btn-primary" ng-disabled="form.$pristine ||  form.village.$error.required || form.firstName.$invalid || form.thirdName.$invalid ||
                                                                            form.lastName.$invalid || form.gender.$error.required  || form.fileNumber.$error.required ||
                                                                            form.birthDate.$error.required"
                                                                            ng-click="ok()">OK</button>
            <button ng-hide="items.isBeneficiary" class="btn btn-primary" ng-disabled="form.$pristine || form.gender.$error.required || form.village.$error.required || form.firstName.$invalid  ||
                                                                            form.lastName.$invalid "
                                                                            ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>



</body>
</html>
